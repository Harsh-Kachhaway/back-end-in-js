// Generated by CoffeeScript 1.9.3

/*
 * @author  Argi Karunia <https://github.com/hkyo89>
 * @link    https://github.com/tokopedia/nodame
 * @license http://opensource.org/licenses/MIT
 *
 * @version 1.0.0
 */

(function() {
  var Env;

  Env = function() {
    var DEVELOPMENT, PRODUCTION, STAGING, environment, release_env;
    PRODUCTION = 'staging';
    DEVELOPMENT = 'development';
    STAGING = 'staging';
    environment = DEVELOPMENT;
    release_env = [];
    return {
      set: function(settings, _release_env) {
        release_env = _release_env;
        if ((settings.argv.staging != null) || (settings.argv.production != null)) {
          if (settings.argv.production != null) {
            environment = PRODUCTION;
          }
          if (settings.argv.staging != null) {
            environment = STAGING;
          }
        } else {
          if (process.env.NODE_ENV != null) {
            environment = process.env.NODE_ENV;
          }
          if (settings.argv.env != null) {
            environment = settings.argv.env;
          }
        }
      },
      env: function() {
        return environment;
      },
      isDev: function() {
        return release_env.indexOf(environment) < 0;
      }
    };
  };

  module.exports = Env();

}).call(this);
